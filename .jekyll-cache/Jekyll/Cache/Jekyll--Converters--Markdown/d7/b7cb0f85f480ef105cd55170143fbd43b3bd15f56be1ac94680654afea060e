I"<p>Client and Server communicate through the HTTP, which is on the Application Layer.</p>

<ul>
  <li>HTTP Request/Response:
    <ul>
      <li>Client sends the requests to servers that are independent of each other. It is like a coin toss. The toss is independent of the last outcome.</li>
      <li>This method is insufficient to load dynamic data on a web page. Each update will require a page refresh.</li>
    </ul>
  </li>
  <li>Ajax Request:
    <ul>
      <li>Asynchronous send data to the server without refreshing</li>
      <li>Server keeps open the connection with the client. The client is the one that always initiates the request. The server can not proactively send resp</li>
      <li>This method is insufficient when we are designing applications like Facebook feed. Users will have to manually send requests to ask for an updated feed as the server can not send the response proactively.</li>
    </ul>
  </li>
  <li>WebSockets:
    <ul>
      <li>full-duplex bi-directional communication</li>
      <li>It is an upgrade over HTTP
        <ul>
          <li>Uses the same TCP connection over <code class="language-plaintext highlighter-rouge">ws://</code> or <code class="language-plaintext highlighter-rouge">wss:///</code></li>
        </ul>
      </li>
      <li>Sends headers only once</li>
    </ul>
  </li>
  <li>Polling and Long Polling
    <ul>
      <li>Polling: Sends Ajax request every X amount of seconds for new data</li>
      <li>Long Polling: Client sends a request to the server and keeps connection open until new data</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="websocket">WebSocket</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws://localhost:8000</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">socket</span><span class="p">.</span><span class="nx">onopen</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//on connection, do something</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Socket open</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">socket</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//message from server</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div></div>

<hr />

<h4 id="references">References</h4>

<ol>
  <li><a href="https://www.youtube.com/watch?v=8ARodQ4Wlf4&amp;ab_channel=freeCodeCamp.org">FreeCodeCamp</a></li>
  <li>Gojek <a href="https://blog.gojek.io/introducing-courier-the-information-superhighway-between-mobile-server/">Link 1</a> <a href="https://www.gojek.io/blog/the-quest-for-a-message-broker-for-our-courier?utm_source=medium&amp;utm_medium=blog&amp;utm_campaign=blog_courierpart2">Link 2</a></li>
</ol>
:ET